\input{preamble}

\newcommand{\todo}[1]{\footnote{\textbf{TODO.} #1}}

\begin{document}
\title{Koll\'ar's Argument}
\maketitle

\section{Ampleness Lemma}

\begin{lemma}
\label{lemma-grassman-quotient-stack-map}
Let $X$ be a scheme over a field $k$, and let $\mathcal{E}$ be a%semipositive
locally free sheaf on $X$ of rank $n$.
Let $\mathcal{F} = \mathrm{Sym}^d(\mathcal{E})$ for some $d \geq 1$ and
let $N = \binom{n + d}{d}$ be the rank.
Let $on \mathcal{F} \to \mathcal{Q}$ be a locally free quotient of rank $q$.
Let $G = \mathrm{PGL}_m$ be the projective general linear group over $k$.
Then,
\begin{enumerate}
\item There exists a closed subscheme $D \subset
\mathbf{P}((\mathcal{E}^\vee)^{\oplus n})$ such that
$$
\mathbf{P}((\mathcal{E}^\vee)^{\oplus n}) \setminus D \longrightarrow X
$$
is a principal $G$-bundle.
\item There is a $G$-action on $\mathrm{Gr}(N,q)$, and
a $G$-equivariant map
$$
\mathbf{P}((\mathcal{E}^\vee)^{\oplus n}) \setminus D \longrightarrow
\mathrm{Gr}(N,q).
$$
\item There exists a map of stacks
$$
X \longrightarrow [\mathrm{Gr}(N,q)/G].
$$
\end{enumerate}
\end{lemma}
\begin{proof}
We first prove (1).
Let $\mathbf{P} = \mathbf{P}((\mathcal{E}^\vee)^{\oplus n})$ be the projective
bundle of matrices whose columns belong to $\mathcal{E}$, and write
$\pi : \mathbf{P} \to X$ for the projection.
Using the projection formula~\cite[\href{http://stacks.math.columbia.edu/tag/01E6}{Tag 01E6}]{stacks-project},
\begin{align*}
H^0(\mathbf{P}, \pi^*\mathcal{E}(1))
& \cong H^0(X, \pi_*(\pi^*\mathcal{E} \otimes_{\mathcal{O}_{\mathbf{P}}}
\mathcal{O}_{\mathbf{P}}(1)))\\
& \cong H^0(X,\mathcal{E} \otimes_{\mathcal{O}_X}
\pi_*\mathcal{O}_{\mathbf{P}}(1))\\
& \cong H^0(X,\mathcal{E} \otimes (\mathcal{E}^\vee)^{\oplus n})\\
& \cong H^0(X,\mathrm{End}(\mathcal{E})^{\oplus n})
\end{align*}
has $n$ sections, corresponding to the identity on each summand.
We therefore have an evaluation morphism
$$
B : \mathcal{O}_{\mathbf{P}}^{\oplus n} \longrightarrow \pi^*\mathcal{E}(1).
$$
Taking determinants, this gives a map
$$
\det B : \mathcal{O}_{\mathbf{P}} \longrightarrow \det(\pi^*\mathcal{E})(n).
$$
Let $\mathcal{I} \otimes \det(\pi^*\mathcal{E}) (n)$ be the image of $\det B$,
and let $D$ be the subscheme of $\mathbf{P}$ defined by $\mathcal{I}$.
Then, $D$ defines the locus for which $\det B$ vanishes, which is the locus of
$\mathbf{P}$ where the corresponding matrices are not invertible.
We therefore see that $\mathbf{P} \setminus D$ corresponds to those matrices
that are invertible, i.e., are elements of $\mathrm{PGL}_n$.
This turns $\mathbf{P} \setminus D$ into a principal $\mathrm{PGL}_n$-bundle
over $X$.

For (2), note that $\mathrm{PGL}_n$ acts on $\mathrm{Gr}(N,q)$ via
$$
  \mathrm{GL}_n \longrightarrow
  (\mathrm{GL}_n)^{\times d} \longrightarrow
  \mathrm{Aut}(\mathrm{Sym}^d (k^{\oplus n})),
$$
which descends to their quotients by $k^*$; note that
$\mathrm{Aut}(\mathrm{Sym}^d (k^{\oplus n}))/k^*$ is a subgroup of the
automorphism group of the Grassmannian $\mathrm{Gr}(N,q)$.
To show the morphism claimed exists, we fist consider what happens when we
apply $\mathrm{Sym}^d$ to $B$, giving a morphism
$$
  \mathrm{Sym}^d(B) : \mathcal{O}_{\mathbf{P}}^{\oplus N} \to
    \pi^*\mathrm{Sym}^d(\mathcal{E})(d) = \pi^*\mathcal{F}(d).
$$
Composing this will the given surjection $\mathcal{F} \to \mathcal{Q}$, we
obtain a morphism
$$
  U : \mathcal{O}_{\mathbf{P}}^{\oplus N} \to
        \pi^*\mathcal{F}(d) \to
        \pi^*\mathcal{Q}(d)
$$
which is surjective away from $D$.
By the universal property of the Grassmannian, we obtain a morphism
$\mathbf{P} \setminus D \to \mathrm{Gr}(N,q)$.
It is $G$-equivariant by tracing the definitions.

For (3), this follows from general properties of quotient stacks, plus the fact
that $(\mathbf{P} \setminus D)/G \simeq X$.
\end{proof}

\begin{lemma}
\label{lemma-positive-self-intersection}
Let $X$ be a normal projective variety over a field $k$.
Let $\mathcal{E}$ be a semipositive locally free sheaf on $X$ of rank $n$.
Set $\mathcal{F} = \mathrm{Sym}^d(\mathcal{E})$ for some $d \geq 1$ and set
$N = \binom{n + d}{d}$ be the rank.
Let $\mathcal{Q}$ be a locally free quotient of $\mathcal{F}$ of rank $q$.
Assume that the map
$$
  u : X \to [\mathrm{Gr}(N,q)/G]
$$
constructed in Lemma \ref{lemma-grassman-quotient-stack-map}
is generically quasi-finite.
Then $(\det(\mathcal{Q})^{\dim(Y)}) > 0$.
\end{lemma}

\begin{proof}
Let $\mathbf{P} = \mathbf{P}((\mathcal{E}^\vee)^{\oplus n})$.
Let $D \subset \mathbf{P}$ be the closed subscheme given by part (1) of
Lemma \ref{lemma-grassman-quotient-stack-map}.
Then there is a fibre product diagram\todo{Why, exactly, is this a fibre product
diagram? Also, the $u$ is off.}
$$
\xymatrix{
  \mathbf{P} \setminus D \ar[r] \ar[d] & \mathrm{Gr}(N,q) \ar[d] \\
  X \ar[r]^u & [\mathrm{Gr}(N,q)/\mathrm{PGL}_m]
}
$$
Since $u$ is generically quasi-finite, the map
$\mathbf{P} \setminus D \to \mathrm{Gr}(n,q)$ is generically quasi-finite.

As in Lemma \ref{lemma-grassman-quotient-stack-map},\todo{Maybe factor
  this statement out?}
the morphism $\mathbf{P} \setminus D \to \mathrm{Gr}(N,q)$ is defined by
the morphism of locally free sheaves
$$
  U : \mathcal{O}_{\mathbf{P}}^{\oplus n} \to \pi^*\mathcal{F}(d)
                                          \to \pi^*\mathcal{Q}(d).
$$
Here, the map $\mathcal{O}_{\mathbf{P}}^{\oplus N} \to \pi^*\mathcal{F}$ is
an isomorphism away from $D$ and thus $U$ is surjective away from $D$.
Taking $q$\textsuperscript{th} exterior powers, we obtain a morphism
$$
  \bigwedge^q U : \mathcal{O}_{\mathbf{P}}^{\oplus \binom{N}{q}} \to
    \pi^*\det(\mathcal{Q})(qd)
$$
which is surjective away from $D$.
Thus the image of $\bigwedge^q U$ is of the form
$\pi^*\det(\mathcal{Q})(qd) \otimes \mathcal{I}$ for some ideal sheaf
$\mathcal{I} \subset \mathcal{O}_{\mathbf{P}}$.

Let $g : \mathbf{P}' \to \mathbf{P}$ be the blow up of $\mathbf{P}$ along the
sheaf $\mathcal{I}$.
Then the rational map from $\mathbf{P}$ to $\mathrm{Gr}(N,q)$ defined above
resolves to a morphism
$$
  u' : \mathbf{P}' \to \mathrm{Gr}(N,q)
$$
such that
$$
  g^*\pi^*\det(\mathcal{Q})(qd) \cong
    u'^*\mathcal{O}_{\mathrm{Gr}(N,q)}(1)
      \otimes_{\mathcal{O}_{\mathbf{P}'}}
    \mathcal{O}_{\mathbf{P}'}(E)
$$
where $E$ is the exceptional divisor of $g : \mathbf{P}' \to \mathbf{P}$.

Since $u$ is generically quasi-finite and $g$ is birational,
$u'$ is generically quasi-finite.
Hence, by ...\todo{Prove this or reference this somewhere.}
$u'^*\mathcal{O}_{\mathrm{Gr}(N,q)}(1)$ is big\todo{Define big somewhere}
on $\mathbf{P}'$.
Fix an ample invertible sheaf $\mathcal{L}$ on $Y$.
Then by ...\todo{Using properties of big. I guess this depends on what the definition
  is and then what the characterizations are.}, there is some $m \geq 0$
such that
$\mathcal{O}_{\mathrm{Gr}(N,q)}(m)
  \otimes_{\mathcal{O}_{\mathbf{P}'}} g^*\pi^*\mathcal{L}^{-1}$
has a nonzero section.
But
\begin{align*}
  \mathcal{O}_{\mathrm{Gr}(N,q)}(m)
  = \big(g^*\pi^*\det(\mathcal{Q})(qd) \otimes_{\mathcal{O}_{\mathbf{P}'}}
    \mathcal{O}_{\mathbf{P}'}(-E)\big)^{\otimes m}.
\end{align*}
Thus we obtain a nonzero morphism of sheaves
$$
\mathcal{O}_{\mathbf{P}'} \to
    \big(g^*\pi^*\det(\mathcal{Q})(qd) \otimes_{\mathcal{O}_{\mathbf{P}'}}
      \otimes_{\mathcal{O}_{\mathbf{P}'}}
    \mathcal{O}_{\mathbf{P}'}(-E)\big)^{\otimes m}
      \otimes_{\mathcal{O}_{\mathbf{P}'}}
    g^*\pi^*\mathcal{L}^{-1}
$$
for all $m \geq 0$ large.
Since $E$ is effective, we can compose this morphism with the natural
inclusion $\mathcal{O}_{\mathbf{P}'}(-E) \to \mathcal{O}_{\mathbf{P}'}$
to obtain a nonzero morphism
$$
\mathcal{O}_{\mathbf{P}'} \to
    g^*\big(\pi^*\det(\mathcal{Q})^{\otimes m}(mqd)
      \otimes_{\mathcal{O}_{\mathbf{P}}}
    \pi^*\mathcal{L}^{-1}\big).
$$
Pushing this forward to $X$ and applying the projection formula, we obtain
a nonzero morphism
$$
\mathcal{O}_X \to
  \det(\mathcal{Q})^{\otimes m}
    \otimes_{\mathcal{O}_X}
  \pi_*\mathcal{O}_{\mathbf{P}}(mqd)
    \otimes_{\mathcal{O}_X}
  \mathcal{L}^{-1}.
$$
Since each term on the right is locally free, this is equivalent to a nonzero
morphism
$$
\tau :
  (p_*\mathcal{O}_{\mathbf{P}}(mqd))^\vee \otimes_{\mathcal{O}_X} \mathcal{L}
    \to \det(\mathcal{Q})^{\otimes m}.
$$
As before, there exists an ideal sheaf $\mathcal{J} \subseteq \mathcal{O}_X$
such that the image of $\tau$ is the subsheaf
$\mathcal{J} \otimes_{\mathcal{O}_X} \det(\mathcal{Q})^{\otimes m}$ of
$\det(\mathcal{Q})^{\otimes m}$.
Let $s : X' \to X$ be the blow up of $X$ along $\mathcal{J}$.
Set
$P = \mathbf{P}((\pi_*\mathcal{O}_{\mathbf{P}}(mqd))^\vee
        \otimes_{\mathcal{O}_X} \mathcal{L})$.
Then $\tau$ gives rise to a morphism
$v : X' \to P$
such that
$$
v^*\mathcal{O}_P(1) = s^*\det(\mathcal{Q})^{\otimes m}
                        \otimes_{\mathcal{O}_{X'}} \mathcal{O}_{X'}(-F)
$$
for the exceptional divisor $F$ of the blow up $s : X' \to X$.
Set $P' = \mathbf{P}((\pi_*\mathcal{O}_{\mathbf{P}}(mqd))^\vee)$.
Then there exists a canonical isomorphism\todo{Find a reference for this.}
$P \to P'$.
Let $v' : X' \to P'$ be the composition of $v$ with this isomorphism.
Then
$
\mathcal{L} \otimes_{\mathcal{O}_{X'}} v'^* \mathcal{O}_{P'}(1)
  = v^* \mathcal{O}_P
$, so
$$
  s^*\det(\mathcal{Q})^{\otimes m}
    = s^*\mathcal{L}
        \otimes_{\mathcal{O}_{X'}} v'^* \mathcal{O}_{P'}(1)
        \otimes_{\mathcal{O}_{X'}} \mathcal{O}_{X'}(F).
$$

We now compute the top self-intersection of $\det(\mathcal{Q})^{\otimes m}$.
Since $s : X' \to X$ is birational, by~\cite[\href{http://stacks.math.columbia.edu/tag/0BET}{Tag 0BET}]{stacks-project},
$$
  ((\det(\mathcal{Q})^{\otimes m})^{\dim(X)})
    = ((s^*\det(\mathcal{Q})^{\otimes m})^{\dim(X')}).
$$
Write
$\mathcal{L}'
  = v'^*\mathcal{O}_{P'}(1) \otimes_{\mathcal{O}_{X'}} \mathcal{O}_{X'}(F)$.
By~\cite[\href{http://stacks.math.columbia.edu/tag/0BER}{Tag 0BER}]{stacks-project},
we further have
$$
  ((\det(\mathcal{Q})^{\otimes m})^{\dim(X)})
    = (s^*\mathcal{L}^{\dim(X)})
      + \sum\nolimits_{i = 1}^{\dim(X)}
          (s^*\mathcal{L}^{\dim(X) - i} (s^*\det(\mathcal{Q})^{\otimes m})^{i - 1} \mathcal{L}').
$$
Since $(\pi_*\mathcal{O}_{\mathbf{P}}(mqd))^\vee$ is semipositive by
...\todo{Reference back to the semipostivity stuff!},
$\mathcal{O}_{P'}(1)$ is nef and hence its $v'$ pullback to $X'$ is nef.
As $F$ is effective, $\mathcal{L}'$ is nef.
Since $\mathcal{L}$ is ample, $s^*\mathcal{L}$ is nef, so
$s^*\det(\mathcal{Q})^{\otimes m}$ is nef.
All this shows that the second term in the sum above is nonnegative.
Applying~\cite[\href{http://stacks.math.columbia.edu/tag/0BET}{Tag 0BET}]{stacks-project}
again,
$$
  (s^*\mathcal{L}^{\dim(X)}) = (\mathcal{L}^{\dim(X)}) > 0
$$
since $\mathcal{L}$ is ample on $X$.
Thus $((\det(\mathcal{Q})^{\otimes m})^{\dim(X)}) > 0$, so by additivity of
numerical intersections again, $(\det(\mathcal{Q})^{\dim(X)}) > 0$.
\end{proof}

\begin{lemma}
Let $k$ be a field.
Let $X$ be a proper algebraic space over $k$.
Let $\mathcal{E}$ be a locally free sheaf of rank $n$ on $X$.
Set $\mathcal{F} = \mathrm{Sym}^d(\mathcal{E})$ for some $d \geq 1$ and
let $N = \binom{n + d}{d}$ be the rank.
Let $\mathcal{Q}$ be a locally free quotient of $\mathcal{F}$ of rank $q$.
Assume that the map
$$
u : X \to [\mathrm{Gr}(N,q)/\mathrm{PGL}_n]
$$
constructed in Lemma \ref{lemma-grassman-quotient-stack-map}
is generically quasi-finite.
Then $\det(\mathcal{Q})$ is ample.
\end{lemma}

\begin{proof}
By the Nakai--Moishezon Criterion for spaces\todo{Reference this somehow.},
we must show that $\det(Q)$ has positive top intersection with
every irreducible subspace $Z \subset X$.
So let $Z \subset X$ be any irreducible subspace and write $i : Z \to X$ for
the inclusion.
By~\cite[\href{http://stacks.math.columbia.edu/tag/088U}{Tag 088U}]{stacks-project},
there is a projective scheme $Z'$ and a proper birational morphism
$g : Z' \to Z$.
Now
$$
  (\det(Q)^{\dim(Z)} \cdot Z)
    = (\det(i^*Q)^{\dim(Z)})
    = (\det(g^*i^*Q)^{\dim(Z')})
$$
so we need to show that the top self-intersection of $\det(g^*i^*\mathcal{Q})$
on $Z'$ is positive.
But now $g^*i^*\mathcal{E}$ is semipositive by ...\todo{Reference.},
$g^*i^*\mathcal{F} \cong \mathrm{Sym}^d(g^*i^*\mathcal{E})$,
and $g^*i^*\mathcal{Q}$ is a quotient bundle of $g^*i^*\mathcal{F}$ of rank $q$
on $Z'$.
Also, the map $u \circ i \circ g : Z' \to [\mathrm{Gr}(N,q)/\mathrm{PGL}_n]$
is quasi-finite on the dense open on which $g$ is an isomorphism.
Thus Lemma~\ref{lemma-positive-self-intersection},
$(\det(g^*i^*\mathcal{Q})^{\dim(Z')}) > 0$ and we are done.
\end{proof}

\bibliographystyle{unsrt}
\bibliography{references}

\end{document}
